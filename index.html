
<!DOCTYPE html>
<html lang="zh-CN ">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ITthreeの博客 || </title>
    <meta name="author" content="ITthree">
    <meta name="description" content="ITthreeの博客,我思故我在 ">
    <meta name="keywords" content=" ">
    <link rel="icon" href="/../images/icon.jpg">
    <link rel="stylesheet" href="/css/antd.min.css">
    
    <link rel="stylesheet" href="/css/night-theme.css">
    
    <script src="/js/vue.js"></script>
    <script src="/js/antd.min.js"></script>
<meta name="generator" content="Hexo 5.4.2"></head>

<body>

    <div id="loading"
        style="height: 100vh; width: 100%; position: fixed;display: flex;z-index: 200; justify-content: space-between;">
        <div id="loadleft" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div id="loadright" style="width: 50%;background-color: #ffffff;transition: width 0.6s ease-out;"></div>
        <div
            style="position: fixed; height: 100vh; width: 100%;display: flex;justify-content: center;align-items: center;">
            <div id="loadcontent"
                style="width:400px;height:400px;padding:50px;border-radius:50%;display:flex;justify-content:center;align-items:center;border:solid 10px#a3ddfb; text-align:center;opacity:1;transition:opacity 0.3s ease-out;">
                <div>
                    <h2>LOADING...</h2>
                    <p>加载过慢请开启缓存(浏览器默认开启)</p>
                    <div>
                        <img src="/dancingkitty.gif" alt="loading">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="layout">
        <transition name="into">
            <div v-show="show_page" style="display: none;">
                <div id="menu_show">
                     
<nav id="menu">
    <div class="desktop-menu">
        <a href="/">
            <span class="title">ITthreeの博客</span>
        </a>
        
        <a href="/">
            <span>
                <a-icon type="home" theme="filled" />
            </span>
            <span>home</span>
        </a>
        
        <a href="/about">
            <span>
                <a-icon type="idcard" theme="filled" />
            </span>
            <span>about</span>
        </a>
        
        <a href="/archives">
            <span>
                <a-icon type="folder" theme="filled" />
            </span>
            <span>archives</span>
        </a>
        
        <a href="/categories/ubuntu">
            <span>
                <a-icon type="book" theme="filled" />
            </span>
            <span>categories</span>
        </a>
        
        <a href="/tags/shell">
            <span>
                <a-icon type="tags" theme="filled" />
            </span>
            <span>tags</span>
        </a>
        
    </div>

    <div :class="'phone-menu ' + menu_show" id="phone-menu">
        <div :class="'title'" @click="menu_show=!menu_show">
            <span style="margin-right: 10px;">
                <a-icon type="appstore" theme="filled" />
            </span>
            <span>ITthreeの博客</span>
        </div>
        <div class="items" v-show="menu_show">
            
            <a href="/">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="home" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">home</div>
                </div>
            </a>
            
            <a href="/about">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="idcard" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">about</div>
                </div>
            </a>
            
            <a href="/archives">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="folder" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">archives</div>
                </div>
            </a>
            
            <a href="/categories/ubuntu">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="book" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">categories</div>
                </div>
            </a>
            
            <a href="/tags/shell">
                <div class="item">
                    <div style="min-width:20px; max-width:50px; width: 10%">
                        <a-icon type="tags" theme="filled" />
                    </div>
                    <div style="min-width:100px;max-width: 150%;width: 20%;">tags</div>
                </div>
            </a>
            
        </div>
        <div class="curtain" v-show="menu_show"></div>
    </div>

</nav>
                </div>

                <div id="main">
                    <div id="home-head" style=background-image:url('home.jpg')>
    <script>
        var menu = document.getElementById("menu")
        menu.className += " menu-color"
    </script>
     
    <div id="home-info" class="home-info" @click="home_click">
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="loop"></span>
        <span class="info">
            <div class="wrap">
                <h1>ITthreeの博客</h1>
                <h3></h3>
                <h5>ITthreeの博客,我思故我在</h5>
            </div>
        </span>
    </div>
     
</div>



<div id="home-posts-wrap" class=>
    <div id="home-posts">

        <div id="posts">
            

<div class="post">

    <a href="/2022/03/20/PriorityQueue/">
        <h2>
            
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/20
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h1 id="PriorityQueue"><a href="#PriorityQueue" class="headerlink" title="PriorityQueue"></a>PriorityQueue</h1><p>插入元素</p>
<pre><code class="java"> //代理方法
public boolean add(E e) &#123;
        return offer(e);
    &#125;

//目标方法
    public boolean offer(E e) &#123;
        //添加元素为null时抛出异常，添加结束
        if (e == null)
            throw new NullPointerException();
        modCount++;
        //    
        int i = size;
        //这段扩容代码...
        //数组满了便调用grow()扩容，size+1
        if (i &gt;= queue.length)
            grow(i + 1);
        size = i + 1;
        //数组为空便直接插入，否则进行上浮操作
        if (i == 0)
            queue[0] = e;
        else
            //上浮
            siftUp(i, e);
        return true;
    &#125;


private void grow(int minCapacity) &#123;
        int oldCapacity = queue.length;
        // Double size if small; else grow by 50%
        //原数组大小小于64便扩容到其2倍+2，否则扩容百分之50
        int newCapacity = oldCapacity + ((oldCapacity &lt; 64) ?
                                         (oldCapacity + 2) :
                                         (oldCapacity &gt;&gt; 1));
    
        if (newCapacity - MAX_ARRAY_SIZE &gt; 0)
            newCapacity = hugeCapacity(minCapacity);
        queue = Arrays.copyOf(queue, newCapacity);
    &#125;

   private static int hugeCapacity(int minCapacity) &#123;
        if (minCapacity &lt; 0) // overflow
            throw new OutOfMemoryError();
        return (minCapacity &gt; MAX_ARRAY_SIZE) ?
            Integer.MAX_VALUE :
            MAX_ARRAY_SIZE;
    &#125;
</code></pre>
<p>曾经的写法</p>
<pre><code class="java">//siftUp()
private void siftUp(int k, E x) &#123;
    while (k &gt; 0) &#123;
        int parent = (k - 1) &gt;&gt;&gt; 1;//parentNo = (nodeNo-1)/2
        Object e = queue[parent];
        if (comparator.compare(x, (E) e) &gt;= 0)//调用比较器的比较方法
            break;
        queue[k] = e;
        k = parent;
    &#125;
    queue[k] = x;
&#125;
</code></pre>
<p>现在的写法</p>
<pre><code class="java">  private void siftUp(int k, E x) &#123;
        if (comparator != null)
            siftUpUsingComparator(k, x);
        else
            siftUpComparable(k, x);
    &#125;

    @SuppressWarnings(&quot;unchecked&quot;)
    private void siftUpComparable(int k, E x) &#123;
        Comparable&lt;? super E&gt; key = (Comparable&lt;? super E&gt;) x;
        while (k &gt; 0) &#123;
            int parent = (k - 1) &gt;&gt;&gt; 1;
            Object e = queue[parent];
            if (key.compareTo((E) e) &gt;= 0)
                break;
            queue[k] = e;
            k = parent;
        &#125;
        queue[k] = key;
    &#125;

    @SuppressWarnings(&quot;unchecked&quot;)
    private void siftUpUsingComparator(int k, E x) &#123;
        while (k &gt; 0) &#123;
            int parent = (k - 1) &gt;&gt;&gt; 1;
            Object e = queue[parent];
            if (comparator.compare(x, (E) e) &gt;= 0)
                break;
            queue[k] = e;
            k = parent;
        &#125;
        queue[k] = x;
    &#125;
</code></pre>
<pre><code class="java">@SuppressWarnings(&quot;unchecked&quot;)
    public E peek() &#123;
        return (size == 0) ? null : (E) queue[0];
    &#125;
</code></pre>

            
        </div>
    </div>

    <div class="post-tags">
        
        
    </div>

    <a href="/2022/03/20/PriorityQueue/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/03/20/Python-1/">
        <h2>
            anaconda入门
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/categories/Python">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                Python
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/20
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <blockquote>
<p>安装不做介绍，下载链接<a target="_blank" rel="noopener" href="https://anaconda.en.softonic.com/">https://anaconda.en.softonic.com/</a></p>
</blockquote>
<ol>
<li>环境命令：</li>
</ol>
<p>创建一个名称为python37的虚拟环境并指定python版本为3.7 ：</p>
<pre><code class="python">conda  create -n python37 python=3.7
</code></pre>
<p>查看环境：<code>conda info --envs</code></p>
<p>激活某个环境：<code>conda activate python34</code></p>
<ol start="2">
<li>包命令</li>
</ol>
<p>安装包：<code>conda install package_name</code></p>
<p>卸载包：<code>conda remove pandas</code></p>
<p>更新包：<code>conda update package_name</code></p>
<ol start="3">
<li>Pycharm 配置anaconda</li>
</ol>
<p>File -&gt; Settings<br><img src="http://img.lbkzw.cn/img/20190105173256159.png" alt="20190105173256159"></p>
<p><img src="http://img.lbkzw.cn/img/20190105173419992.png" alt="20190105173419992"></p>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/anaconda" style=color:#6484be>
                anaconda
            </a>
        </span>
        
    </div>

    <a href="/2022/03/20/Python-1/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/03/20/Spring Boot▒╩╝╟/">
        <h2>
            
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/20
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <p>Spring Boot</p>
<p>Spring Boot 是一个快速开发框架，可以迅速搭建出一套基于 Spring 框架体系的应用，是 Spring Cloud 的基础。</p>
<p>Spring Boot 开启了各种自动装配，从而简化代码的开发，不需要编写各种配置文件，只需要引入相关依赖就可以迅速搭建一个应用。</p>
<ul>
<li>特点</li>
</ul>
<p>1、不需要 web.xml</p>
<p>2、不需要 springmvc.xml</p>
<p>3、不需要 tomcat，Spring Boot 内嵌了 tomcat</p>
<p>4、不需要配置 JSON 解析，支持 REST 架构</p>
<p>5、个性化配置非常简单</p>
<ul>
<li>如何使用</li>
</ul>
<p>1、创建 Maven 工程，导入相关依赖。</p>
<pre><code class="xml">&lt;!-- 继承父包 --&gt;
&lt;parent&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
    &lt;version&gt;2.0.7.RELEASE&lt;/version&gt;
&lt;/parent&gt;

&lt;dependencies&gt;
  &lt;!-- web启动jar --&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
    &lt;version&gt;1.18.6&lt;/version&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<p>2、创建 Student 实体类</p>
<pre><code class="java">package com.threeit.entity;

import lombok.AllArgsConstructor;
import lombok.Data;
//生成get，set
@Data
//生成带参构造
@AllArgsConstructor
public class Student &#123;
    private long id;
    private String name;
    private int age;
&#125;
</code></pre>
<p>3、StudentRepository</p>
<pre><code class="java">package com.southwind.repository;

import com.southwind.entity.Student;

import java.util.Collection;

public interface StudentRepository &#123;
    public Collection&lt;Student&gt; findAll();
    public Student findById(long id);
    public void saveOrUpdate(Student student);
    public void deleteById(long id);
&#125;
</code></pre>
<p>4、StudentRepositoryImpl</p>
<pre><code class="java">package com.southwind.repository.impl;

import com.southwind.entity.Student;
import com.southwind.repository.StudentRepository;
import org.springframework.stereotype.Repository;

import java.util.Collection;
import java.util.HashMap;
import java.util.Map;

@Repository
public class StudentRepositoryImpl implements StudentRepository &#123;

    private static Map&lt;Long,Student&gt; studentMap;

    static&#123;
        studentMap = new HashMap&lt;&gt;();
        studentMap.put(1L,new Student(1L,&quot;张三&quot;,22));
        studentMap.put(2L,new Student(2L,&quot;李四&quot;,23));
        studentMap.put(3L,new Student(3L,&quot;王五&quot;,24));
    &#125;

    @Override
    public Collection&lt;Student&gt; findAll() &#123;
        return studentMap.values();
    &#125;

    @Override
    public Student findById(long id) &#123;
        return studentMap.get(id);
    &#125;

    @Override
    public void saveOrUpdate(Student student) &#123;
        studentMap.put(student.getId(),student);
    &#125;

    @Override
    public void deleteById(long id) &#123;
        studentMap.remove(id);
    &#125;
&#125;
</code></pre>
<p>5、StudentHandler</p>
<pre><code class="java">package com.threeit.controller;

import com.threeit.entity.Student;
import com.threeit.repository.StudentRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

import java.util.Collection;
//一个控制器类
@RestController
//控制器请求路径
@RequestMapping(&quot;/student&quot;)
public class StudentHandler &#123;
    //寻找StudentRepository实现类对象注入
    @Autowired
    private StudentRepository studentRepository;

    @GetMapping(&quot;/findAll&quot;)
    public Collection&lt;Student&gt; findAll()&#123;
        return studentRepository.findAll();
    &#125;

    @GetMapping(&quot;findById/&#123;id&#125;&quot;)
    public Student findById(@PathVariable(&quot;id&quot;) long id)&#123;
        return studentRepository.findById(id);
    &#125;

    @PostMapping(&quot;/save&quot;)
    public void save(@RequestBody Student student)&#123;
        studentRepository.saveOrUpdate(student);
    &#125;

    @PutMapping(&quot;/update&quot;)
    public void update(@RequestBody Student student)&#123;
        studentRepository.saveOrUpdate(student);
    &#125;

    @DeleteMapping(&quot;/deleteById/&#123;id&#125;&quot;)
    public void deleteById(@PathVariable(&quot;id&quot;) long id)&#123;
        studentRepository.deleteById(id);

    &#125;

&#125;
</code></pre>
<p>6、application.yml</p>
<pre><code class="yaml">server:
  port: 9090
</code></pre>
<p>7、启动类</p>
<pre><code class="java">package com.southwind;

import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

@SpringBootApplication
public class Application &#123;
    public static void main(String[] args) &#123;
        SpringApplication.run(Application.class,args);
    &#125;
&#125;
</code></pre>
<p><code>@SpringBootApplication</code> 表示当前类是 Spring Boot 的入口，Application 类的存放位置必须是其他相关业务类的存放位置的父级。</p>
<h3 id="Spring-Boot-整合-JSP"><a href="#Spring-Boot-整合-JSP" class="headerlink" title="Spring Boot 整合 JSP"></a>Spring Boot 整合 JSP</h3><ul>
<li>pom.xml</li>
</ul>
<pre><code class="xml">&lt;parent&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
  &lt;version&gt;2.0.7.RELEASE&lt;/version&gt;
&lt;/parent&gt;

&lt;dependencies&gt;
  &lt;!-- web --&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
  &lt;/dependency&gt;

  &lt;!-- 整合JSP --&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;
  &lt;/dependency&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;
    &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;
  &lt;/dependency&gt;

  &lt;!-- JSTL --&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;jstl&lt;/groupId&gt;
    &lt;artifactId&gt;jstl&lt;/artifactId&gt;
    &lt;version&gt;1.2&lt;/version&gt;
  &lt;/dependency&gt;

  &lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
    &lt;version&gt;1.18.6&lt;/version&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<ul>
<li>创建配置文件 application.yml</li>
</ul>
<pre><code class="yaml">server:
  port: 8181
spring:
  mvc:
    view:
      prefix: /
      suffix: .jsp
</code></pre>
<ul>
<li>创建 Handler</li>
</ul>
<pre><code class="java">package com.southwind.controller;

import com.southwind.entity.Student;
import com.southwind.repository.StudentRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.servlet.ModelAndView;

@Controller
@RequestMapping(&quot;/hello&quot;)
public class HelloHandler &#123;

    @Autowired
    private StudentRepository studentRepository;

    @GetMapping(&quot;/index&quot;)
    public ModelAndView index()&#123;
        ModelAndView modelAndView = new ModelAndView();
        modelAndView.setViewName(&quot;index&quot;);
        modelAndView.addObject(&quot;list&quot;,studentRepository.findAll());
        return modelAndView;
    &#125;

    @GetMapping(&quot;/deleteById/&#123;id&#125;&quot;)
    public String deleteById(@PathVariable(&quot;id&quot;) long id)&#123;
        studentRepository.deleteById(id);
        return &quot;redirect:/hello/index&quot;;
    &#125;

    @PostMapping(&quot;/save&quot;)
    public String save(Student student)&#123;
        studentRepository.saveOrUpdate(student);
        return &quot;redirect:/hello/index&quot;;
    &#125;

    @PostMapping(&quot;/update&quot;)
    public String update(Student student)&#123;
        studentRepository.saveOrUpdate(student);
        return &quot;redirect:/hello/index&quot;;
    &#125;

    @GetMapping(&quot;/findById/&#123;id&#125;&quot;)
    public ModelAndView findById(@PathVariable(&quot;id&quot;) long id)&#123;
        ModelAndView modelAndView = new ModelAndView();
        modelAndView.setViewName(&quot;update&quot;);
        modelAndView.addObject(&quot;student&quot;,studentRepository.findById(id));
        return modelAndView;
    &#125;
&#125;
</code></pre>
<ul>
<li>JSP</li>
</ul>
<pre><code class="jsp">&lt;%--
  Created by IntelliJ IDEA.
  User: southwind
  Date: 2019-03-21
  Time: 12:02
  To change this template use File | Settings | File Templates.
--%&gt;
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;%@ page isELIgnored=&quot;false&quot; %&gt;
&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;学生信息&lt;/h1&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;th&gt;学生编号&lt;/th&gt;
            &lt;th&gt;学生姓名&lt;/th&gt;
            &lt;th&gt;学生年龄&lt;/th&gt;
            &lt;th&gt;操作&lt;/th&gt;
        &lt;/tr&gt;
        &lt;c:forEach items=&quot;$&#123;list&#125;&quot; var=&quot;student&quot;&gt;
            &lt;tr&gt;
                &lt;td&gt;$&#123;student.id&#125;&lt;/td&gt;
                &lt;td&gt;$&#123;student.name&#125;&lt;/td&gt;
                &lt;td&gt;$&#123;student.age&#125;&lt;/td&gt;
                &lt;td&gt;
                    &lt;a href=&quot;/hello/findById/$&#123;student.id&#125;&quot;&gt;修改&lt;/a&gt;
                    &lt;a href=&quot;/hello/deleteById/$&#123;student.id&#125;&quot;&gt;删除&lt;/a&gt;
                &lt;/td&gt;
            &lt;/tr&gt;
        &lt;/c:forEach&gt;
    &lt;/table&gt;
    &lt;a href=&quot;/save.jsp&quot;&gt;添加学生&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="jsp">&lt;%--
  Created by IntelliJ IDEA.
  User: southwind
  Date: 2019-03-21
  Time: 12:09
  To change this template use File | Settings | File Templates.
--%&gt;
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form action=&quot;/hello/save&quot; method=&quot;post&quot;&gt;
        ID:&lt;input type=&quot;text&quot; name=&quot;id&quot;/&gt;&lt;br/&gt;
        name:&lt;input type=&quot;text&quot; name=&quot;name&quot;/&gt;&lt;br/&gt;
        age:&lt;input type=&quot;text&quot; name=&quot;age&quot;/&gt;&lt;br/&gt;
        &lt;input type=&quot;submit&quot; value=&quot;提交&quot;/&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="jsp">&lt;%--
  Created by IntelliJ IDEA.
  User: southwind
  Date: 2019-03-21
  Time: 12:09
  To change this template use File | Settings | File Templates.
--%&gt;
&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form action=&quot;/hello/update&quot; method=&quot;post&quot;&gt;
        ID:&lt;input type=&quot;text&quot; name=&quot;id&quot; value=&quot;$&#123;student.id&#125;&quot; readonly/&gt;&lt;br/&gt;
        name:&lt;input type=&quot;text&quot; name=&quot;name&quot; value=&quot;$&#123;student.name&#125;&quot;/&gt;&lt;br/&gt;
        age:&lt;input type=&quot;text&quot; name=&quot;age&quot; value=&quot;$&#123;student.age&#125;&quot;/&gt;&lt;br/&gt;
        &lt;input type=&quot;submit&quot; value=&quot;提交&quot;/&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<h3 id="Spring-Boot-HTML"><a href="#Spring-Boot-HTML" class="headerlink" title="Spring Boot HTML"></a>Spring Boot HTML</h3><p>Spring Boot 可以结合 Thymeleaf 模版来整合 HTML，使用原生的 HTML 作为视图。</p>
<p>Thymeleaf 模版是面向 Web 和独立环境的 Java 模版引擎，能够处理 HTML、XML、JavaScript、CSS 等。</p>
<pre><code>&lt;p th:text=&quot;$&#123;message&#125;&quot;&gt;&lt;/p&gt;
</code></pre>
<ul>
<li>pom.xml</li>
</ul>
<pre><code class="xml">&lt;!-- 继承父包 --&gt;
&lt;parent&gt;
  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
  &lt;version&gt;2.0.7.RELEASE&lt;/version&gt;
&lt;/parent&gt;

&lt;dependencies&gt;
  &lt;!-- web启动jar --&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
  &lt;/dependency&gt;

  &lt;dependency&gt;
    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;
    &lt;artifactId&gt;lombok&lt;/artifactId&gt;
    &lt;version&gt;1.18.6&lt;/version&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
  &lt;/dependency&gt;

  &lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre>
<ul>
<li>appliction.yml</li>
</ul>
<pre><code class="yaml">server:
  port: 9090
spring:
  thymeleaf:
    prefix: classpath:/templates/
    suffix: .html
    mode: HTML5
    encoding: UTF-8
</code></pre>
<ul>
<li>Handler</li>
</ul>
<pre><code class="java">package com.southwind.controller;

import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;

@Controller
@RequestMapping(&quot;/index&quot;)
public class IndexHandler &#123;

    @GetMapping(&quot;/index&quot;)
    public String index()&#123;
        System.out.println(&quot;index...&quot;);
        return &quot;index&quot;;
    &#125;
&#125;
</code></pre>
<ul>
<li>HTML</li>
</ul>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;Hello World&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>如果希望客户端可以直接访问 HTML 资源，将这些资源放置在 static 路径下即可，否则必须通过 Handler 的后台映射才可以访问静态资源。</p>
<h3 id="Thymeleaf-常用语法"><a href="#Thymeleaf-常用语法" class="headerlink" title="Thymeleaf 常用语法"></a>Thymeleaf 常用语法</h3><ul>
<li>赋值、拼接</li>
</ul>
<pre><code class="java">@GetMapping(&quot;/index2&quot;)
public String index2(Map&lt;String,String&gt; map)&#123;
  map.put(&quot;name&quot;,&quot;张三&quot;);
  return &quot;index&quot;;
&#125;
</code></pre>
<pre><code class="html">&lt;!--字符拼接的两种方式--&gt;
&lt;p th:text=&quot;$&#123;name&#125;&quot;&gt;&lt;/p&gt;
&lt;!--方式一：常规拼接--&gt;
&lt;p th:text=&quot;&#39;学生姓名是&#39;+$&#123;name&#125;+2&quot;&gt;&lt;/p&gt;
&lt;!--方式二：使用||包裹完成拼接--&gt;
&lt;p th:text=&quot;|学生姓名是$&#123;name&#125;|&quot;&gt;&lt;/p&gt;
</code></pre>
<ul>
<li>条件判断：if/unless</li>
</ul>
<p>th:if 表示条件成立时显示内容，th:unless 表示条件不成立时显示内容</p>
<pre><code class="java">@GetMapping(&quot;/if&quot;)
public String index3(Map&lt;String,Boolean&gt; map)&#123;
    map.put(&quot;flag&quot;,true);
    return &quot;index&quot;;
&#125;
</code></pre>
<pre><code class="html">&lt;!--条件成立--&gt;
&lt;p th:if=&quot;$&#123;flag == true&#125;&quot;  th:text=&quot;条件成立&quot;&gt;&lt;/p&gt;
&lt;!--条件不成立--&gt;
&lt;p th:unless=&quot;$&#123;flag == true&#125;&quot; th:text=&quot;条件不成立&quot;&gt;&lt;/p&gt;
</code></pre>
<ul>
<li>循环</li>
</ul>
<pre><code class="java">@GetMapping(&quot;/index&quot;)
public String index(Model model)&#123;
    System.out.println(&quot;index...&quot;);
    List&lt;Student&gt; list = new ArrayList&lt;&gt;();
    list.add(new Student(1L,&quot;张三&quot;,22));
    list.add(new Student(2L,&quot;李四&quot;,23));
    list.add(new Student(3L,&quot;王五&quot;,24));
    model.addAttribute(&quot;list&quot;,list);
    return &quot;index&quot;;
&#125;
</code></pre>
<pre><code class="html">&lt;table&gt;
  &lt;tr&gt;
    &lt;th&gt;index&lt;/th&gt;
    &lt;th&gt;count&lt;/th&gt;
    &lt;th&gt;学生ID&lt;/th&gt;
    &lt;th&gt;学生姓名&lt;/th&gt;
    &lt;th&gt;学生年龄&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tr th:each=&quot;student,stat:$&#123;list&#125;&quot; th:style=&quot;&#39;background-color:&#39;+@&#123;$&#123;stat.odd&#125;?&#39;#F2F2F2&#39;&#125;&quot;&gt;
    &lt;td th:text=&quot;$&#123;stat.index&#125;&quot;&gt;&lt;/td&gt;
    &lt;td th:text=&quot;$&#123;stat.count&#125;&quot;&gt;&lt;/td&gt;
    &lt;td th:text=&quot;$&#123;student.id&#125;&quot;&gt;&lt;/td&gt;
    &lt;td th:text=&quot;$&#123;student.name&#125;&quot;&gt;&lt;/td&gt;
    &lt;td th:text=&quot;$&#123;student.age&#125;&quot;&gt;&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
</code></pre>
<p>stat 是状态变量，属性：</p>
<ul>
<li>index 集合中元素的index（从0开始）</li>
<li>count 集合中元素的count（从1开始）</li>
<li>size 集合的大小</li>
<li>current 当前迭代变量</li>
<li>even/odd 当前迭代是否为偶数/奇数（从0开始计算）</li>
<li>first 当前迭代的元素是否是第一个</li>
<li>last 当前迭代的元素是否是最后一个</li>
</ul>
<ul>
<li>URL</li>
</ul>
<p>Thymeleaf 对于 URL 的处理是通过 <code>@&#123;...&#125;</code> 进行处理，结合 th:href 、th:src</p>
<pre><code class="html">&lt;h1&gt;Hello World&lt;/h1&gt;
&lt;a th:href=&quot;@&#123;http://www.baidu.com&#125;&quot;&gt;跳转&lt;/a&gt;
&lt;a th:href=&quot;@&#123;http://localhost:9090/index/url/&#123;na&#125;(na=$&#123;name&#125;)&#125;&quot;&gt;跳转2&lt;/a&gt;
&lt;img th:src=&quot;$&#123;src&#125;&quot;&gt;
&lt;div th:style=&quot;&#39;background:url(&#39;+ @&#123;$&#123;src&#125;&#125; +&#39;);&#39;&quot;&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;/div&gt;
</code></pre>
<ul>
<li>三元运算</li>
</ul>
<pre><code class="java">@GetMapping(&quot;/eq&quot;)
public String eq(Model model)&#123;
    model.addAttribute(&quot;age&quot;,30);
    return &quot;test&quot;;
&#125;
</code></pre>
<pre><code class="html">&lt;input th:value=&quot;$&#123;age gt 30?&#39;中年&#39;:&#39;青年&#39;&#125;&quot;/&gt;
</code></pre>
<ul>
<li>gt great than 大于</li>
<li>ge great equal 大于等于</li>
<li>eq equal 等于</li>
<li>lt less than 小于</li>
<li>le less equal 小于等于</li>
<li>ne not equal 不等于</li>
</ul>
<ul>
<li>switch</li>
</ul>
<pre><code class="java">@GetMapping(&quot;/switch&quot;)
public String switchTest(Model model)&#123;
    model.addAttribute(&quot;gender&quot;,&quot;女&quot;);
    return &quot;test&quot;;
&#125;
</code></pre>
<pre><code class="html">&lt;div th:switch=&quot;$&#123;gender&#125;&quot;&gt;
  &lt;p th:case=&quot;女&quot;&gt;女&lt;/p&gt;
  &lt;p th:case=&quot;男&quot;&gt;男&lt;/p&gt;
  &lt;p th:case=&quot;*&quot;&gt;未知&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<ul>
<li>基本对象<ul>
<li><code>#ctx</code> ：上下文对象</li>
<li><code>#vars</code>：上下文变量</li>
<li><code>#locale</code>：区域对象</li>
<li><code>#request</code>：HttpServletRequest 对象</li>
<li><code>#response</code>：HttpServletResponse 对象</li>
<li><code>#session</code>：HttpSession 对象</li>
<li><code>#servletContext</code>：ServletContext 对象</li>
</ul>
</li>
</ul>
<pre><code class="java">@GetMapping(&quot;/object&quot;)
public String object(HttpServletRequest request)&#123;
    request.setAttribute(&quot;request&quot;,&quot;request对象&quot;);
    request.getSession().setAttribute(&quot;session&quot;,&quot;session对象&quot;);
    return &quot;test&quot;;
&#125;
</code></pre>
<pre><code class="html">&lt;p th:text=&quot;$&#123;#request.getAttribute(&#39;request&#39;)&#125;&quot;&gt;&lt;/p&gt;
&lt;p th:text=&quot;$&#123;#session.getAttribute(&#39;session&#39;)&#125;&quot;&gt;&lt;/p&gt;
&lt;p th:text=&quot;$&#123;#locale.country&#125;&quot;&gt;&lt;/p&gt;
</code></pre>
<ul>
<li>内嵌对象</li>
</ul>
<p>可以直接通过 # 访问。</p>
<p>1、dates：java.util.Date 的功能方法</p>
<p>2、calendars：java.util.Calendar 的功能方法</p>
<p>3、numbers：格式化数字</p>
<p>4、strings：java.lang.String 的功能方法</p>
<p>5、objects：Object 的功能方法</p>
<p>6、bools：对布尔求值的方法</p>
<p>7、arrays：操作数组的功能方法</p>
<p>8、lists：操作集合的功能方法</p>
<p>9、sets：操作集合的功能方法</p>
<p>10、maps：操作集合的功能方法</p>
<pre><code class="java">@GetMapping(&quot;/util&quot;)
public String util(Model model)&#123;
    model.addAttribute(&quot;name&quot;,&quot;zhangsan&quot;);
    model.addAttribute(&quot;users&quot;,new ArrayList&lt;&gt;());
    model.addAttribute(&quot;count&quot;,22);
    model.addAttribute(&quot;date&quot;,new Date());
    return &quot;test&quot;;
&#125;
</code></pre>
<pre><code class="html">&lt;!-- 格式化时间 --&gt;
&lt;p th:text=&quot;$&#123;#dates.format(date,&#39;yyyy-MM-dd HH:mm:sss&#39;)&#125;&quot;&gt;&lt;/p&gt;
&lt;!-- 创建当前时间，精确到天 --&gt;
&lt;p th:text=&quot;$&#123;#dates.createToday()&#125;&quot;&gt;&lt;/p&gt;
&lt;!-- 创建当前时间，精确到秒 --&gt;
&lt;p th:text=&quot;$&#123;#dates.createNow()&#125;&quot;&gt;&lt;/p&gt;
&lt;!-- 判断是否为空 --&gt;
&lt;p th:text=&quot;$&#123;#strings.isEmpty(name)&#125;&quot;&gt;&lt;/p&gt;
&lt;!-- 判断List是否为空 --&gt;
&lt;p th:text=&quot;$&#123;#lists.isEmpty(users)&#125;&quot;&gt;&lt;/p&gt;
&lt;!-- 输出字符串长度 --&gt;
&lt;p th:text=&quot;$&#123;#strings.length(name)&#125;&quot;&gt;&lt;/p&gt;
&lt;!-- 拼接字符串 --&gt;
&lt;p th:text=&quot;$&#123;#strings.concat(name,name,name)&#125;&quot;&gt;&lt;/p&gt;
&lt;!-- 创建自定义字符串 --&gt;
&lt;p th:text=&quot;$&#123;#strings.randomAlphanumeric(count)&#125;&quot;&gt;&lt;/p&gt;
</code></pre>
<h3 id="Spring-Boot-数据校验"><a href="#Spring-Boot-数据校验" class="headerlink" title="Spring Boot 数据校验"></a>Spring Boot 数据校验</h3><pre><code class="java">package com.southwind.entity;

import lombok.Data;
import org.hibernate.validator.constraints.Length;

import javax.validation.constraints.Min;
import javax.validation.constraints.NotEmpty;
import javax.validation.constraints.NotNull;

@Data
public class User &#123;
    @NotNull(message = &quot;id不能为空&quot;)
    private Long id;
    @NotEmpty(message = &quot;姓名不能为空&quot;)
    @Length(min = 2,message = &quot;姓名长度不能小于2位&quot;)
    private String name;
    @Min(value = 16,message = &quot;年龄必须大于16岁&quot;)
    private int age;
&#125;
</code></pre>
<pre><code class="java">@GetMapping(&quot;/validator&quot;)
public void validatorUser(@Valid User user,BindingResult bindingResult)&#123;
  System.out.println(user);
  if(bindingResult.hasErrors())&#123;
    List&lt;ObjectError&gt; list = bindingResult.getAllErrors();
    for(ObjectError objectError:list)&#123;
      System.out.println(objectError.getCode()+&quot;-&quot;+objectError.getDefaultMessage());
    &#125;
  &#125;
&#125;
</code></pre>
<h3 id="Spring-Boot-整合-JDBC"><a href="#Spring-Boot-整合-JDBC" class="headerlink" title="Spring Boot 整合 JDBC"></a>Spring Boot 整合 JDBC</h3><ul>
<li>pom.xml</li>
</ul>
<pre><code class="xml">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;
&lt;/dependency&gt;

&lt;dependency&gt;
    &lt;groupId&gt;mysql&lt;/groupId&gt;
    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
    &lt;version&gt;8.0.11&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<ul>
<li>application.yml</li>
</ul>
<pre><code class="yaml">server:
  port: 9090
spring:
  thymeleaf:
    prefix: classpath:/templates/
    suffix: .html
    mode: HTML5
    encoding: UTF-8
  datasource:
    url: jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8
    username: root
    password: root
    driver-class-name: com.mysql.cj.jdbc.Driver
</code></pre>
<ul>
<li>User</li>
</ul>
<pre><code class="java">package com.southwind.entity;

import lombok.Data;
import org.hibernate.validator.constraints.Length;

import javax.validation.constraints.Min;
import javax.validation.constraints.NotEmpty;
import javax.validation.constraints.NotNull;

@Data
public class User &#123;
    @NotNull(message = &quot;id不能为空&quot;)
    private Long id;
    @NotEmpty(message = &quot;姓名不能为空&quot;)
    @Length(min = 2,message = &quot;姓名长度不能小于2位&quot;)
    private String name;
    @Min(value = 60,message = &quot;成绩必须大于60分&quot;)
    private double score;
&#125;
</code></pre>
<ul>
<li>UserRepository</li>
</ul>
<pre><code class="java">package com.southwind.repository;

import com.southwind.entity.User;

import java.util.List;

public interface UserRepository &#123;
    public List&lt;User&gt; findAll();
    public User findById(long id);
    public void save(User user);
    public void update(User user);
    public void deleteById(long id);
&#125;
</code></pre>
<ul>
<li>UserRepositoryImpl</li>
</ul>
<pre><code class="java">package com.southwind.repository.impl;

import com.southwind.entity.User;
import com.southwind.repository.UserRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.jdbc.core.BeanPropertyRowMapper;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.stereotype.Repository;

import java.util.List;

@Repository
public class UserRepositoryImpl implements UserRepository &#123;

    @Autowired
    private JdbcTemplate jdbcTemplate;

    @Override
    public List&lt;User&gt; findAll() &#123;
        return jdbcTemplate.query(&quot;select * from user&quot;,new BeanPropertyRowMapper&lt;&gt;(User.class));
    &#125;

    @Override
    public User findById(long id) &#123;
        return jdbcTemplate.queryForObject(&quot;select * from user where id = ?&quot;,new Object[]&#123;id&#125;,new BeanPropertyRowMapper&lt;&gt;(User.class));
    &#125;

    @Override
    public void save(User user) &#123;
        jdbcTemplate.update(&quot;insert into user(name,score) values(?,?)&quot;,user.getName(),user.getScore());
    &#125;

    @Override
    public void update(User user) &#123;
        jdbcTemplate.update(&quot;update user set name = ?,score = ? where id = ?&quot;,user.getName(),user.getScore(),user.getId());
    &#125;

    @Override
    public void deleteById(long id) &#123;
        jdbcTemplate.update(&quot;delete from user where id = ?&quot;,id);
    &#125;
&#125;
</code></pre>
<ul>
<li>Handler</li>
</ul>
<pre><code class="java">package com.southwind.controller;

import com.southwind.entity.User;
import com.southwind.repository.UserRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@RestController
@RequestMapping(&quot;/user&quot;)
public class UserHandler &#123;

    @Autowired
    private UserRepository userRepository;

    @GetMapping(&quot;/findAll&quot;)
    public List&lt;User&gt; findAll()&#123;
        return userRepository.findAll();
    &#125;

    @GetMapping(&quot;/findById/&#123;id&#125;&quot;)
    public User findById(@PathVariable(&quot;id&quot;) long id)&#123;
        return userRepository.findById(id);
    &#125;

    @PostMapping(&quot;/save&quot;)
    public void save(@RequestBody User user)&#123;
        userRepository.save(user);
    &#125;

    @PutMapping(&quot;/update&quot;)
    public void update(@RequestBody User user)&#123;
        userRepository.update(user);
    &#125;

    @DeleteMapping(&quot;/deleteById/&#123;id&#125;&quot;)
    public void deleteById(@PathVariable(&quot;id&quot;) long id)&#123;
        userRepository.deleteById(id);
    &#125;
&#125;
</code></pre>
<h3 id="Spring-Boot-整合-MyBatis"><a href="#Spring-Boot-整合-MyBatis" class="headerlink" title="Spring Boot 整合 MyBatis"></a>Spring Boot 整合 MyBatis</h3><ul>
<li>pom.xml</li>
</ul>
<pre><code class="xml">&lt;dependency&gt;
  &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
  &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
  &lt;version&gt;1.3.1&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<ul>
<li>application.yml</li>
</ul>
<pre><code class="yaml">server:
  port: 9090
spring:
  thymeleaf:
    prefix: classpath:/templates/
    suffix: .html
    mode: HTML5
    encoding: UTF-8
  datasource:
    url: jdbc:mysql://localhost:3306/test?useUnicode=true&amp;characterEncoding=UTF-8
    username: root
    password: root
    driver-class-name: com.mysql.cj.jdbc.Driver
mybatis:
  mapper-locations: classpath:/mapping/*.xml
  type-aliases-package: com.southwind.entity
</code></pre>
<ul>
<li>UserRepository</li>
</ul>
<pre><code class="java">package com.southwind.mapper;

import com.southwind.entity.User;

import java.util.List;

public interface UserRepository &#123;
    public List&lt;User&gt; findAll(int index,int limit);
    public User findById(long id);
    public void save(User user);
    public void update(User user);
    public void deleteById(long id);
    public int count();
&#125;
</code></pre>
<ul>
<li>UserRepository.xml</li>
</ul>
<pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
        &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;
&lt;mapper namespace=&quot;com.southwind.mapper.UserRepository&quot;&gt;

    &lt;select id=&quot;findAll&quot; resultType=&quot;User&quot;&gt;
        select * from user limit #&#123;param1&#125;,#&#123;param2&#125;
    &lt;/select&gt;

    &lt;select id=&quot;count&quot; resultType=&quot;int&quot;&gt;
        select count(id) from user
    &lt;/select&gt;

    &lt;select id=&quot;findById&quot; parameterType=&quot;long&quot; resultType=&quot;User&quot;&gt;
        select * from user where id = #&#123;id&#125;
    &lt;/select&gt;

    &lt;insert id=&quot;save&quot; parameterType=&quot;User&quot;&gt;
        insert into user(name,score) values(#&#123;name&#125;,#&#123;score&#125;)
    &lt;/insert&gt;

    &lt;update id=&quot;update&quot; parameterType=&quot;User&quot;&gt;
        update user set name = #&#123;name&#125;,score = #&#123;score&#125; where id = #&#123;id&#125;
    &lt;/update&gt;

    &lt;delete id=&quot;deleteById&quot; parameterType=&quot;long&quot;&gt;
        delete from user where id = #&#123;id&#125;
    &lt;/delete&gt;
&lt;/mapper&gt;
</code></pre>
<ul>
<li>User</li>
</ul>
<pre><code class="java">package com.southwind.entity;

import lombok.Data;
import org.hibernate.validator.constraints.Length;

import javax.validation.constraints.Min;
import javax.validation.constraints.NotEmpty;
import javax.validation.constraints.NotNull;

@Data
public class User &#123;
    @NotNull(message = &quot;id不能为空&quot;)
    private Long id;
    @NotEmpty(message = &quot;姓名不能为空&quot;)
    @Length(min = 2,message = &quot;姓名长度不能小于2位&quot;)
    private String name;
    @Min(value = 60,message = &quot;成绩必须大于60分&quot;)
    private double score;
&#125;
</code></pre>
<ul>
<li>Handler</li>
</ul>
<pre><code class="java">package com.southwind.controller;
import com.southwind.entity.User;
import com.southwind.mapper.UserRepository;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.*;
import org.springframework.web.servlet.ModelAndView;

@Controller
@RequestMapping(&quot;/mapper&quot;)
public class UserMapperHandler &#123;

    @Autowired
    private UserRepository userRepository;
    private int limit = 10;

    @GetMapping(&quot;/findAll/&#123;page&#125;&quot;)
    public ModelAndView findAll(@PathVariable(&quot;page&quot;) int page)&#123;
        ModelAndView modelAndView = new ModelAndView();
        int index = (page-1)*limit;
        modelAndView.setViewName(&quot;show&quot;);
        modelAndView.addObject(&quot;list&quot;,userRepository.findAll(index,limit));
        modelAndView.addObject(&quot;page&quot;,page);
        //计算总页数
        int count = userRepository.count();
        int pages = 0;
        if(count%limit == 0)&#123;
            pages = count/limit;
        &#125;else&#123;
            pages = count/limit+1;
        &#125;
        modelAndView.addObject(&quot;pages&quot;,pages);
        return modelAndView;
    &#125;

    @GetMapping(&quot;/deleteById/&#123;id&#125;&quot;)
    public String deleteById(@PathVariable(&quot;id&quot;) long id)&#123;
        userRepository.deleteById(id);
        return &quot;redirect:/mapper/findAll/1&quot;;
    &#125;

    @GetMapping(&quot;/findById&quot;)
    public ModelAndView findById(@RequestParam(&quot;id&quot;) long id)&#123;
        ModelAndView modelAndView = new ModelAndView();
        modelAndView.addObject(&quot;user&quot;,userRepository.findById(id));
        modelAndView.setViewName(&quot;update&quot;);
        return modelAndView;
    &#125;

    @PostMapping(&quot;/update&quot;)
    public String update(User user)&#123;
        userRepository.update(user);
        return &quot;redirect:/mapper/findAll/1&quot;;
    &#125;

    @PostMapping(&quot;/save&quot;)
    public String save(User user)&#123;
        userRepository.save(user);
        return &quot;redirect:/mapper/findAll/1&quot;;
    &#125;

    @GetMapping(&quot;/redirect/&#123;name&#125;&quot;)
    public String redirect(@PathVariable(&quot;name&quot;) String name)&#123;
        return name;
    &#125;
&#125;
</code></pre>
<ul>
<li>HTML</li>
</ul>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form action=&quot;/mapper/save&quot; method=&quot;post&quot;&gt;
        用户姓名：&lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt;&lt;br/&gt;
        用户成绩：&lt;input type=&quot;text&quot; name=&quot;score&quot; /&gt;&lt;br/&gt;
        &lt;input type=&quot;submit&quot; value=&quot;提交&quot;/&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;form action=&quot;/mapper/update&quot; method=&quot;post&quot;&gt;
        用户ID：&lt;input type=&quot;text&quot; name=&quot;id&quot; th:value=&quot;$&#123;user.id&#125;&quot; readonly/&gt;&lt;br/&gt;
        用户姓名：&lt;input type=&quot;text&quot; name=&quot;name&quot; th:value=&quot;$&#123;user.name&#125;&quot; /&gt;&lt;br/&gt;
        用户成绩：&lt;input type=&quot;text&quot; name=&quot;score&quot; th:value=&quot;$&#123;user.score&#125;&quot; /&gt;&lt;br/&gt;
        &lt;input type=&quot;submit&quot; value=&quot;提交&quot;/&gt;
    &lt;/form&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<pre><code class="html">&lt;!DOCTYPE html&gt;
&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;Title&lt;/title&gt;
    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@&#123;/jquery-3.3.1.min.js&#125;&quot;&gt;&lt;/script&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        $(function()&#123;
            $(&quot;#first&quot;).click(function()&#123;
                var page = $(&quot;#page&quot;).text();
                page = parseInt(page);
                if(page == 1)&#123;
                    return false;
                &#125;
                window.location.href=&quot;/mapper/findAll/1&quot;;
            &#125;);
            $(&quot;#previous&quot;).click(function()&#123;
                var page = $(&quot;#page&quot;).text();
                page = parseInt(page);
                if(page == 1)&#123;
                    return false;
                &#125;
                page = page-1;
                window.location.href=&quot;/mapper/findAll/&quot;+page;
            &#125;);
            $(&quot;#next&quot;).click(function()&#123;
                var page = $(&quot;#page&quot;).text();
                var pages = $(&quot;#pages&quot;).text();
                if(page == pages)&#123;
                    return false;
                &#125;
                page = parseInt(page);
                page = page+1;
                window.location.href=&quot;/mapper/findAll/&quot;+page;
            &#125;);
            $(&quot;#last&quot;).click(function()&#123;
                var page = $(&quot;#page&quot;).text();
                var pages = $(&quot;#pages&quot;).text();
                if(page == pages)&#123;
                    return false;
                &#125;
                window.location.href=&quot;/mapper/findAll/&quot;+pages;
            &#125;);
        &#125;);
    &lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;用户信息&lt;/h1&gt;
    &lt;table&gt;
        &lt;tr&gt;
            &lt;th&gt;用户ID&lt;/th&gt;
            &lt;th&gt;用户名&lt;/th&gt;
            &lt;th&gt;成绩&lt;/th&gt;
            &lt;th&gt;操作&lt;/th&gt;
        &lt;/tr&gt;
        &lt;tr th:each=&quot;user:$&#123;list&#125;&quot;&gt;
            &lt;td th:text=&quot;$&#123;user.id&#125;&quot;&gt;&lt;/td&gt;
            &lt;td th:text=&quot;$&#123;user.name&#125;&quot;&gt;&lt;/td&gt;
            &lt;td th:text=&quot;$&#123;user.score&#125;&quot;&gt;&lt;/td&gt;
            &lt;td&gt;
                &lt;a th:href=&quot;@&#123;/mapper/deleteById/&#123;id&#125;(id=$&#123;user.id&#125;)&#125;&quot;&gt;删除&lt;/a&gt;
                &lt;a th:href=&quot;@&#123;/mapper/findById(id=$&#123;user.id&#125;)&#125;&quot;&gt;修改&lt;/a&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
    &lt;a id=&quot;first&quot; href=&quot;javascript:void(0)&quot;&gt;首页&lt;/a&gt;
    &lt;a id=&quot;previous&quot; href=&quot;javascript:void(0)&quot;&gt;上一页&lt;/a&gt;
    &lt;span id=&quot;page&quot; th:text=&quot;$&#123;page&#125;&quot;&gt;&lt;/span&gt;/&lt;span id=&quot;pages&quot; th:text=&quot;$&#123;pages&#125;&quot;&gt;&lt;/span&gt;
    &lt;a id=&quot;next&quot; href=&quot;javascript:void(0)&quot;&gt;下一页&lt;/a&gt;
    &lt;a id=&quot;last&quot; href=&quot;javascript:void(0)&quot;&gt;尾页&lt;/a&gt;&lt;br/&gt;
    &lt;a href=&quot;/mapper/redirect/save&quot;&gt;添加用户&lt;/a&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

            
        </div>
    </div>

    <div class="post-tags">
        
        
    </div>

    <a href="/2022/03/20/Spring Boot▒╩╝╟/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/03/20/Stack_c/">
        <h2>
            
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/20
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h1 id="Stack"><a href="#Stack" class="headerlink" title="Stack"></a>Stack</h1><h2 id="数组实现"><a href="#数组实现" class="headerlink" title="数组实现"></a>数组实现</h2><pre><code class="C">/*
 * @Author: itThree
 * @Date: 2021-08-27 19:58:17
 * @LastEditTime: 2021-08-27 20:21:54
 * @Description:
 * @FilePath: \cpp\datas\stack_arr.cpp
 * 光阴之逆旅，百代之过客，而已
 */
#include&lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#define ArrType int
#define Size 10 
typedef struct Stack &#123;
    ArrType Data[Size];
    int top;
&#125;Stack;

bool isEmpty(Stack* &amp;S) &#123;
    if (S-&gt;top == 0) &#123;
        return true;
    &#125;
    return false;
&#125;

void push(Stack* &amp;S, ArrType x) &#123;
    printf(&quot;into push\n&quot;);
    S-&gt;Data[S-&gt;top] = x;
    S-&gt;top++;

&#125;

ArrType pop(Stack* &amp;S) &#123;
    //pop先判空
    if (isEmpty(S)) &#123;
        printf(&quot;underflow/n&quot;);
        return NULL;
    &#125;
    //非空先暂存Stack元素索引（返回时用）
    int x = S-&gt;top;
    //索引减一，下次push时原top指向元素会被覆盖
    S-&gt;top--;
    return S-&gt;Data[x];
&#125;
void printStack(Stack* &amp;S) &#123;
    printf(&quot;into printStack\n&quot;);
    for (int i = 0; i &lt; S-&gt;top; i++)
    &#123;
        printf(&quot;第%d个=%d\n&quot;, i+1, S-&gt;Data[i]);
    &#125;


&#125;
int main() &#123;
    printf(&quot;satrt&quot;);
    Stack* S = (Stack*)malloc(sizeof(Stack));
    //不要忘记初始化结构体，否则带来意外效果。
    S-&gt;top = 0;
    push(S, 1);
    push(S, 2);
    push(S, 3);
    printStack(S);
    pop(S);
    pop(S);
    pop(S);
    int x = pop(S);
    printf(&quot;%d&quot;, x);
    return 0;
&#125;
</code></pre>

            
        </div>
    </div>

    <div class="post-tags">
        
        
    </div>

    <a href="/2022/03/20/Stack_c/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/03/20/String.equals()╜Γ╢┴/">
        <h2>
            
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/20
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <p>#String.equals()解读</p>
<pre><code class="java">    public boolean equals(Object anObject) &#123;
        //判断字符
        //判断此两字符是否属于同一内存空间，是则必定相同（众所周知字单一符会在常量池中，以后的多次出现即为引用）
        if (this == anObject) &#123;
            return true;
        &#125;
        //判断字符串
          //对比串中每个字符的地址
        if (anObject instanceof String) &#123;
            String anotherString = (String)anObject;
            int n = value.length;
            //如果比较的两个串长度不相等则比较结束返回false
            if (n == anotherString.value.length) &#123;
                char v1[] = value;
                char v2[] = anotherString.value;
                int i = 0;
                //比较每个字符
                while (n-- != 0) &#123;
                    if (v1[i] != v2[i])
                        return false;
                    i++;
                &#125;
                return true;
            &#125;
        &#125;
        return false;
    &#125;
</code></pre>
<p>Integer.compareTo()解读</p>
<pre><code class="java">public int compareTo(Integer anotherInteger) &#123;
        return compare(this.value, anotherInteger.value);

    // private final int value;是Integer的一个私有字段
    &#125;

     
    public static int compare(int x, int y) &#123;
        //妙啊！这三目运算玩的6啊
        //x&lt;y返回-1，否则判断x是否等于y是则返回0，否则x必&gt;y返回1
        return (x &lt; y) ? -1 : ((x == y) ? 0 : 1);
    &#125;
</code></pre>

            
        </div>
    </div>

    <div class="post-tags">
        
        
    </div>

    <a href="/2022/03/20/String.equals()╜Γ╢┴/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/03/20/TomCat-01/">
        <h2>
            request对象
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/categories/Java">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                Java
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/20
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <p> request对象和response对象的原理:</p>
<ol>
<li>request和response对象是由服务器创建的。我们来使用它们</li>
<li>request对象是来获取请求消息，response对象是来设置响应消息</li>
</ol>
<h1 id="获取请求行信息"><a href="#获取请求行信息" class="headerlink" title="获取请求行信息"></a>获取请求行信息</h1><pre><code class="java">@WebServlet(&quot;/requestDemo&quot;)//注解添加虚拟访问路径
public class requestDemo extends HttpServlet &#123;
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
           
    &#125;

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
        String method = request.getMethod();//获取请求方法
        String contextPath = request.getContextPath();//获取虚拟目录
        String servletPath = request.getServletPath();//获取servlet路径
        String queryString = request.getQueryString();//获取请求参数
        String requestURI = request.getRequestURI();//获取url
        String protocol = request.getProtocol();//获取访问协议信息
        String remoteAddr = request.getRemoteAddr();//获取客户端ip

        System.out.println(method);
        System.out.println(contextPath);
        System.out.println(servletPath);
        System.out.println(queryString);
        System.out.println(requestURI);
        System.out.println(protocol);
        System.out.println(remoteAddr);
    &#125;
    /*运行结果：
        GET
        /demo1
        /requestDemo
        null
        0:0:0:0:0:0:0:1
        /demo1/requestDemo
        HTTP/1.1
        */
&#125;
</code></pre>
<h1 id="获取请求头信息"><a href="#获取请求头信息" class="headerlink" title="获取请求头信息"></a>获取请求头信息</h1><ul>
<li><code>String getHeader(String name)</code>通过请求头的名称获取请求头</li>
<li><code>Enumeration&lt;String&gt; getHeaderNames()</code>获取所有的请求头名称</li>
</ul>
<pre><code class="java">@WebServlet(&quot;/requestDemo2&quot;)
public class requestDemo1 extends HttpServlet &#123;
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
  
        &#125;



    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;

//获取请求头
        Enumeration&lt;String&gt; headerNames = request.getHeaderNames();//获取全部请求头名称
        while (headerNames.hasMoreElements()) &#123;
            String name = headerNames.nextElement();//这个方法像迭代器的next()一样
            String value = request.getHeader(name);//根据请求头名称获取值
            System.out.println(name+&quot;-----&quot;+value);
        &#125;
    &#125;
&#125;
</code></pre>
<h2 id="请求头例子：（判断客户端，设置防盗链等）"><a href="#请求头例子：（判断客户端，设置防盗链等）" class="headerlink" title="请求头例子：（判断客户端，设置防盗链等）"></a>请求头例子：（判断客户端，设置防盗链等）</h2><pre><code class="java">@WebServlet(&quot;/requestDemo2&quot;)
public class requestDemo1 extends HttpServlet &#123;
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
  
        &#125;


    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
        //防盗链例子：
         String referer = request.getHeader(&quot;referer&quot;);
         System.out.println(referer);
         if (referer!=null)&#123;
             if (referer.contains(&quot;/demo&quot;))&#123;
                 response.setContentType(&quot;text/html;charset=utf-8&quot;);
                 response.getWriter().write(&quot;播放电影....&quot;);
             &#125;else &#123;
                 response.setContentType(&quot;text/html;charset=utf-8&quot;);
                 response.getWriter().write(&quot;想看电影吗？来优酷吧...&quot;);
             &#125;
         &#125;
        
//判断客户端
//        String agent = request.getHeader(&quot;user-agent&quot;);
//        if (agent.contains(&quot;Chrome&quot;)) System.out.println(&quot;谷歌浏览器~~~&quot;);//判断客户端是否为谷歌浏览器

    &#125;
&#125;

        
</code></pre>
<h1 id="获取请求体信息"><a href="#获取请求体信息" class="headerlink" title="获取请求体信息"></a>获取请求体信息</h1><p>POST请求方式才有请求体，请求体中封装了POST请求参数。</p>
<ul>
<li> <code>BufferedReader getReader()</code>获取字符输入流，只能操作字符数据</li>
<li> <code>ServletInputStream getInputStream()</code>获取字节输入流，可以操作所有类型数据</li>
</ul>
<pre><code class="java">     @WebServlet(&quot;/requestDemo2&quot;)
public class requestDemo1 extends HttpServlet &#123;
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
        
  
        &#125;


    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;


&#125;

 //以字节流形式读取请求信息
 BufferedReader br = request.getReader();//获取字节流
         String line = null;
         while ((line = br.readLine())!=null)&#123;//读取
             System.out.println(line);
</code></pre>
<h2 id="POST方式乱码问题"><a href="#POST方式乱码问题" class="headerlink" title="POST方式乱码问题"></a>POST方式乱码问题</h2><p>GET方式的乱码已由Tomcat解决，仅有POST方式存在乱码</p>
<pre><code class="java">       @WebServlet(&quot;/requestDemo2&quot;)
public class requestDemo1 extends HttpServlet &#123;
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
        
  
        &#125;


    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
     request.setCharacterEncoding(&quot;utf-8&quot;);//设置流编码，指定名称获取值是通过流的形式进行的，故会存在编码问题。
        String username = request.getParameter(&quot;username&quot;);//获取指定名称参数值

        Map&lt;String ,String[]&gt; parameterMap = request.getParameterMap();//获取所有参数并装入map集合

        Set&lt;String&gt; keyset = parameterMap.keySet();//将值存入视图进行遍历准备
        for (String s : keyset) &#123;
            String[] values = parameterMap.get(s);
            for (String value:values)&#123;
                System.out.println(value);
            &#125;

        &#125;

        System.out.println(username);

&#125;
    
</code></pre>
<h1 id="转发"><a href="#转发" class="headerlink" title="转发"></a>转发</h1><p>转发是指在服务器内部资源间跳转；</p>
<p>即使跳转到多个资源也仅仅是在一个请求的范围内；</p>
<p>跳转时地址栏地址不变。</p>
<pre><code class="java">@WebServlet(&quot;/requestDemo&quot;)
public class requestDemo extends HttpServlet &#123;
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
          
       //转发 
       request.getRequestDispatcher(&quot;/requestDemo1&quot;).forward(request,response);
        //getRequestDispatcher(&quot;/requestDemo1&quot;)获取转发对象
        //forward(request,response)进行转发操作
        System.out.println(&quot;requestDemo被访问&quot;);

    &#125;


    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
        this.doPost(request,response);
        //因为访问页面默认为GET访问，提交表单多为POST访问;
        //所以此处需调用doPost方法并传入参数
    &#125;
&#125;
</code></pre>
<pre><code class="java">@WebServlet(&quot;/requestDemo1&quot;)
public class requestDemo1 extends HttpServlet &#123;
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
        System.out.println(&quot;requestDemo1被访问&quot;);

        &#125;

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
            this.doPost(request,response);
    &#125;
&#125;
</code></pre>
<h1 id="共享数据"><a href="#共享数据" class="headerlink" title="共享数据"></a>共享数据</h1><ul>
<li><code>void setAttribute(String name,Object obj)</code>:存储数据</li>
<li><code>Object getAttitude(String name)</code>:通过键获取值</li>
<li><code>void removeAttribute(String name)</code>:通过键移除键值对</li>
</ul>
<pre><code class="java">@WebServlet(&quot;/requestDemo1&quot;)
public class requestDemo1 extends HttpServlet &#123;
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
        Object hello = request.getAttribute(&quot;hello&quot;);//通过键糊获取值
        System.out.println(hello);
        &#125;

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
            this.doPost(request,response);
    &#125;
&#125;
</code></pre>
<pre><code class="java">       @WebServlet(&quot;/requestDemo1&quot;)
public class requestDemo1 extends HttpServlet &#123;
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
       request.setAttribute(&quot;hello&quot;,&quot;hello world!&quot;);//存储数据(键值)
        request.getRequestDispatcher(&quot;/requestDemo1&quot;).forward(request,response);
        &#125;

    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException &#123;
            this.doPost(request,response);
    &#125;
&#125;
</code></pre>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/Tomcat" style=color:#006674>
                Tomcat
            </a>
        </span>
        
    </div>

    <a href="/2022/03/20/TomCat-01/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/03/20/Tree/">
        <h2>
            
        </h2>
    </a>

    <div class="category-and-date">

        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/20
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h1 id="Tree"><a href="#Tree" class="headerlink" title="Tree"></a>Tree</h1><h2 id="二叉树"><a href="#二叉树" class="headerlink" title="二叉树"></a>二叉树</h2><h3 id="递归生成二叉树"><a href="#递归生成二叉树" class="headerlink" title="递归生成二叉树"></a>递归生成二叉树</h3><p>结点结构：</p>
<pre><code class="C++">#define TYPE char 
typedef struct biTNode
&#123;
    TYPE data;
    struct biTNode* lchild, * rchild;
&#125;biTNode, * biTree;
</code></pre>
<pre><code class="C++">//前序生成树
void CreateTree(biTree&amp; T) &#123;
    TYPE data;
    cin&gt;&gt;data;
    if (data==&#39;#&#39;) &#123;
        T = NULL;
    &#125;
    else &#123;
        T = new biTNode;
        T-&gt;data = data;
        CreateTree(T-&gt;lchild);
        CreateTree(T-&gt;rchild);

    &#125;
&#125;
</code></pre>
<p>前序遍历树：</p>
<pre><code class="c++">void PrePrintTree(biTree&amp; T) &#123;
    if (T == NULL)return;
    printf(&quot;%c\t&quot;, T-&gt;data);
    PrePrintTree(T-&gt;lchild);
    PrePrintTree(T-&gt;rchild);
&#125;
</code></pre>
<p>输入：<code> 123###45##</code></p>
<p>生成二叉树如下图：</p>
<p>结点#等同无，画出来是为了更好的展示与输入对应。</p>
<p><img src="http://img.lbkzw.cn/img/tree_210925.svg" alt="image-20210925163559886"></p>
<p>标红的结点是输入#的顺序，1#，2#分别对应于输入的第一个、第二个#…以此类推。</p>
<p><img src="http://img.lbkzw.cn/img/tree210925_1.svg" alt="tree210925_1"></p>
<h2 id="二叉搜索树"><a href="#二叉搜索树" class="headerlink" title="二叉搜索树"></a>二叉搜索树</h2><h3 id="后继和前驱"><a href="#后继和前驱" class="headerlink" title="后继和前驱"></a>后继和前驱</h3><p><strong>定义：</strong>结点的<strong>后继</strong>，是大于x.key的最小关键字的结点——即<code>&gt;=X.key</code>的结点。</p>
<p>​      结点的<strong>前驱</strong>，是小于x.key的最大关键字的结点——即<code>&lt;=X.key</code>的结点。</p>
<p>如图所示:</p>
<p><img src="http://img.lbkzw.cn/img/1335276-20180909095736739-497790387.png" alt="1335276-20180909095736739-497790387"></p>
<p>寻找后继：</p>
<p>规定：若<strong>查找点X的后继</strong>,那么X父母的父母的…父母我们称之为<strong>祖先</strong>，若<strong>X</strong>为其父母的左子树，我们称X的父母为<strong>右父母</strong>，反之为<strong>左父母</strong>；如图中X的左右父母分别为LP,RP;</p>
<p>那么分以下3种情况，除此之外X便无后继</p>
<ol>
<li>X右子树存在：右子树中取最小一点便是X的后继</li>
<li>X无右子树且无右父母（有左父母），X左祖先的第一个右父母便为X后继</li>
<li>X无右子树且无左父母（有右父母），X右父母便为X后继</li>
</ol>
<pre><code class="c++">BST* successor(BST* &amp;T,BST *X)&#123;

    //1.存在右子树
    if(X-&gt;rchild != NULL)&#123;
        return minElenment(X-&gt;rchild);
    &#125;
    //无右子树： 
    BST* Y = searchP(T,X-&gt;data);
    //2.无右子树且无右父母
    while (Y!=NULL &amp;&amp; X == Y-&gt;rchild)
    &#123;
        //自下而上，寻找左祖先的（第一个）右父母
        X = Y;
        Y = searchP(T,Y-&gt;data);
    &#125;
    //3.无右子树且无左父母
    return Y;
&#125;
</code></pre>
<p><img src="http://img.lbkzw.cn/img/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91%20(1).svg" alt="二叉搜索树 (1)"></p>
<p>寻找前驱：</p>
<p>若存在左子树（LS）则：前驱 = 左子树中的最大值；</p>
<p>若仅有左父母(LP)，无左子树(LS)则：前驱 = 左父母的值；</p>
<p>若左子树和左父母均无，则：前驱 = 右父母的左父母，以此类推。</p>
<h3 id="删除结点"><a href="#删除结点" class="headerlink" title="删除结点"></a>删除结点</h3><p><strong>递归删除</strong></p>
<pre><code class="c">BST* delNode(BST* T,TYPE x)&#123;
    //终止条件
    if(T==NULL)&#123;
        return NULL;
    &#125;
    //查找值为x的结点
    if(x &lt; T-&gt;data)&#123;
        T-&gt;lchild = delNode(T-&gt;lchild,x);
    &#125;else if(x &gt; T-&gt;data)&#123;
        T-&gt;rchild = delNode(T-&gt;rchild,x);
    &#125;else&#123;
        //此时一定找到了x结点

        if(T-&gt;lchild &amp;&amp; T-&gt;rchild)&#123;
            BST* p = minElenment(T-&gt;rchild);
            //这里直接改变将删除结点的data，即间接“删除”。
            T-&gt;data = p-&gt;data;
            T-&gt;rchild = delNode(T-&gt;rchild,p-&gt;data);
        &#125;else if(!(T-&gt;rchild &amp;&amp; T-&gt;lchild))&#123;
            T = NULL;
        &#125;else if(T-&gt;rchild)&#123;
            T = T-&gt;rchild;
        &#125;else if(T-&gt;lchild)&#123;
            T = T-&gt;lchild;
        &#125;
    &#125;
    return T;
&#125;
</code></pre>
<p><strong>非递归删除</strong></p>
<pre><code class="c++">
/**
 * 非递归删除结点，借助辅助函数transplant(T,u,v)
 */
void delNode(BST* &amp;T, TYPE x)&#123;
    //1.2.待删除结点仅有lchild或rchild、
    BST* z = search(T,x);
    if(z-&gt;lchild == NULL)&#123;
        transplant(T,z,z-&gt;rchild);
    &#125;else if(z-&gt;rchild == NULL)&#123;
        transplant(T,z,z-&gt;lchild);
    &#125;else&#123;
    //3.左右结点均存在
    //寻找z的后继y：
        //a.若y是z的rchild,则y必定无lchild(由寻找后继的规律可知：仅z.rchild.lchild=NULL时，y=z.rchild),此时直接以y替换z,并将y.lchild=z.lchild
        //b.若y不是z的rchild（y必定无lchild），则用y.rchild替换y,再以y替换z,并将y.lchild=z.lchild
    BST* y = minElenment(z-&gt;rchild);
    // BST* z = searchP(T,y-&gt;data);
    //b
    if(z-&gt;rchild != y)&#123;
        //将y.p指向y.rchild
        transplant(T,y,y-&gt;rchild);
        y-&gt;rchild = z-&gt;rchild;
    &#125;    
    //a.也是b的后半部分——用y替换z
    transplant(T,z,y);
    y-&gt;lchild = z-&gt;lchild;
    &#125;

&#125;
</code></pre>
<p>辅助函数transplant(T,u,v)</p>
<pre><code class="c++">
/**
 * 用结点v替换u
 * 这里仅仅改变u.p的指向
 */
void transplant(BST* &amp;T,BST* u, BST* &amp;v)&#123;
    //u.p
    BST* p = searchP(T,u-&gt;data);
    if(p == NULL)&#123;
        T = v;
        //我们需要的是将T指向V，而不是用V替代T并抹除T
        // (*T) = (*v);这将导致树残缺为一半
    &#125;else if(u == p-&gt;rchild)&#123;
        p-&gt;rchild = v;
    &#125;else&#123;
        p-&gt;lchild = v;
    &#125;
&#125;
</code></pre>
<h3 id="层次遍历"><a href="#层次遍历" class="headerlink" title="层次遍历"></a>层次遍历</h3><pre><code class="c">//层次遍历——使用队列
void levelOrder(BST* T)&#123;
    //思路：1.从根结点起，依次将其本身并左结点，右结点入队直到所有结点都入队
    //2.pop，front配合进行遍历即可

    //使用c++提供的queue
    queue&lt;BST*&gt; Q;
    Q.push(T);
    cout&lt;&lt;Q.empty();
    while (!Q.empty())
    &#123;    //使用p = Q.front()代替p = Q.pop(),盲猜：可能出队后内存就注销了吧。
        BST* p = Q.front(); 
        cout&lt;&lt;p-&gt;data&lt;&lt;endl;
        //比较cd的地方是这个pop的的类型为void,且无法通过强制类型转换引用。
        Q.pop();
        if(p-&gt;lchild)&#123;
            Q.push(p-&gt;lchild);
        &#125;
        if(p-&gt;rchild)&#123;
            Q.push(p-&gt;rchild);
        &#125;
    &#125;
    
&#125;
</code></pre>
<h3 id="中序遍历——Stack模拟"><a href="#中序遍历——Stack模拟" class="headerlink" title="中序遍历——Stack模拟"></a>中序遍历——Stack模拟</h3><pre><code class="c">//Stack遍历——中序遍历
void stackInmid(BST* T)&#123;
    //思路：沿根节点将所有左结点push入Stack,直到触底（即这条线上再无其它左结点，其它线上还有哦）
    //pop(p) ，访问p, set p = p.rchild继续遍历
    //如此反复，直到Stack空
    stack&lt;BST*&gt; S;
    //T=NULL可能访问了叶结点的子结点
    while (T || !(S.empty()))
    &#123;    
        
        if(T)&#123;
            S.push(T);
            T = T-&gt;lchild;
        &#125;else&#123;
             T = S.top();
             cout&lt;&lt;T-&gt;data&lt;&lt;&quot; &quot;;
             S.pop();
             T = T-&gt;rchild;
        &#125;
    &#125;
&#125;
</code></pre>
<h3 id="插入结点"><a href="#插入结点" class="headerlink" title="插入结点"></a>插入结点</h3><p>非递归插入</p>
<pre><code class="c">//非递归——插入
void insert(BST* &amp;T, BST* &amp;X) &#123;
    //p1负责指向插入位置的父节点
    BST* p1 = NULL;
    //p2负责找到插入的位置
    BST* p2 = T;
    while (p2 != NULL)
    &#123;    
        //p1始终指向p2的上一个指针
        p1 = p2;
        if (X-&gt;data &lt; p2-&gt;data)
        &#123;
            p2 = p2-&gt;lchild;
        &#125;
        else
        &#123;
            p2 = p2-&gt;rchild;
        &#125;
    &#125;
    //如果p1循环结束仍为空，即T为空树
    if (p1 == NULL) &#123;
        T = X;
    &#125;
    else if (p1-&gt;data &gt; X-&gt;data) &#123;
        p1-&gt;lchild = X;
    &#125;
    else
    &#123;
        p1-&gt;rchild = X;
    &#125;
&#125;
</code></pre>
<p>递归插入</p>
<pre><code class="c">//递归——插入
BST* insertRecursion(BST*&amp; T, BST*&amp; X) &#123;
    if (T == NULL) &#123;
        T = X;
    &#125;
    else if(X-&gt;data &lt; T-&gt;data)
    &#123;
        T-&gt;lchild = insertRecursion(T-&gt;lchild, X);
    &#125;else if(X-&gt;data &gt; T-&gt;data)
    &#123;
        T-&gt;rchild = insertRecursion(T-&gt;rchild,X);
    &#125;
    return T;
&#125;
</code></pre>
<h2 id="红黑树"><a href="#红黑树" class="headerlink" title="红黑树"></a>红黑树</h2><p>参考：<a target="_blank" rel="noopener" href="https://www.cnblogs.com/jasontodd/p/9613836.html">二叉搜索树的前驱和后继详细推导</a></p>

            
        </div>
    </div>

    <div class="post-tags">
        
        
    </div>

    <a href="/2022/03/20/Tree/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/03/20/jvm-02/">
        <h2>
            追踪式垃圾回收算法
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/categories/Java">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                Java
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/20
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <h1 id="四种引用："><a href="#四种引用：" class="headerlink" title="四种引用："></a>四种引用：</h1><ol>
<li>强引用：指程序中普遍存在的引用赋值；被强引用关联的对象<strong>只要强引用关系存在</strong>，被引用的对象就不会被回收</li>
<li>软引用：指有用而非必须的对象；被软引用关联的对象在<strong>系统发生内存溢出之前</strong>会将其回收</li>
<li>弱引用：指非必须的对象（比软引用弱）；被弱引用关联的对象<strong>在下一次垃圾回收前无论内存是否足够</strong>，均将其回收</li>
<li>虚引用：无法通过此引用来取得对象实例，使用此引用<strong>只是为了在对象被回收时收到一个系统通知</strong></li>
</ol>
<h1 id="分代收集"><a href="#分代收集" class="headerlink" title="分代收集"></a>分代收集</h1><ul>
<li>分代假说</li>
</ul>
<ol>
<li>弱分代假说（新生代）：大多数对象都是朝生夕灭</li>
<li>强分代假说（老年代）：对象熬过的收集次数越多就越难被回收</li>
<li>跨代引用假说：跨代引用相对于同代引用仅占少数</li>
</ol>
<ul>
<li>垃圾分类：根据强、弱分代假说，将<strong>Java堆</strong>分为两个内存区域分别<strong>存储新生代与老年代</strong>，每次回收后存活的新生代对象将逐步晋升到老年代中。</li>
<li>老年代引用新生代：相互引用的两个对象应<strong>同生同灭</strong>，所以该<strong>新生代会逐步晋升</strong>到老年代中从而<strong>消除跨代引用</strong></li>
<li>根据跨带引用假说，在新生代上建立全局数据结构“记忆集”，这个集合中标记存在<strong>跨代引用</strong>的老年代，收集扫描时仅扫描此集合中标识的老年代</li>
</ul>
<h1 id="标记算法"><a href="#标记算法" class="headerlink" title="标记算法"></a>标记算法</h1><h2 id="标记清除算法"><a href="#标记清除算法" class="headerlink" title="标记清除算法"></a>标记清除算法</h2><ul>
<li><p>标记需要<strong>回收</strong>的对象，清除所有<strong>标记</strong>的对象</p>
</li>
<li><p>标记需要<strong>保</strong>存的对象，清除所有<strong>未标记</strong>的对象</p>
</li>
<li><p>缺点：<strong>标记清除算法</strong>需要大量的标记、清除动作，且清除后会产生大量不连续的内存空间（可能导致无法为大的对象分配内存）</p>
</li>
</ul>
<img src="https://i.loli.net/2020/08/19/3yCNL6twl1xVYFd.jpg" alt="screenshot_2020_07_31T12_32_20+0800" style="zoom:50%;" />

<h2 id="标记整理算法"><a href="#标记整理算法" class="headerlink" title="标记整理算法"></a>标记整理算法</h2><ul>
<li>标记过程与<strong>标记清除算法</strong>相同，但并不直接对可回收对象进行回收，而是让所有存活对象向内存空间一端移动，然后直接清除另外一端</li>
<li>缺点：移动对象操作时需全程暂停用户应用程序</li>
<li>和稀泥式解决方案：令虚拟机使用<strong>标记清除算法</strong>直到内存碎片化程度影响到对象内存分配，再使用<strong>标记整理算法</strong></li>
</ul>
<img src="https://i.loli.net/2020/08/19/Pyc8XSEThekfHAI.jpg" alt="screenshot_2020_07_31T12_359+0800" style="zoom:50%;" />

<h2 id="标记复制算法"><a href="#标记复制算法" class="headerlink" title="标记复制算法"></a>标记复制算法</h2><ul>
<li><p>将内存分为两块，每次只使用一块，当这块内存满时将其中存活的对象复制到另一块内存中，并自我清除。</p>
</li>
<li><p>缺点：<strong>标记复制算法</strong>需要大量的内存空间，且内存中回收对象的数量直接影响着此算法的效率。</p>
</li>
<li><p>此算法常用于<strong>新生代</strong>回收</p>
<img src="https://i.loli.net/2020/08/19/PSIqUYjOnxXaJcs.jpg" alt="screenshot_2020_07_31T12_35_49+0800" style="zoom:50%;" />

</li>
</ul>
<h2 id="Appel式回收（标记复制算法的改进）"><a href="#Appel式回收（标记复制算法的改进）" class="headerlink" title="Appel式回收（标记复制算法的改进）"></a>Appel式回收（标记复制算法的改进）</h2><ul>
<li>将新生代分为一块较大的Eden空间与两块较小的Survivor空间。</li>
<li>分配内存时使用Eden与一块Survivor，回收时将使用的Eden与Survivor上存活的对象复制到另一块Survivor上，并自我清除。</li>
<li>当另一块Survivor空间装不下<strong>已使用</strong>的Eden与Survivor中的存活对象时，就会发生<strong>分配担保</strong>（装不下的存活对象直接晋升至老年代）</li>
</ul>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/Jvm虚拟机" style=color:#6484be>
                Jvm虚拟机
            </a>
        </span>
        
    </div>

    <a href="/2022/03/20/jvm-02/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/03/20/jvm-03/">
        <h2>
            Class文件结构
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/categories/Java">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                Java
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/20
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <p>class文件是以8个字节为基础的二进制流；</p>
<p>class文件中存在表、无符号数这两种数据结构，同时每个class文件均可视为一张表；</p>
<p>无符号数以<strong>u1、u2、u3、u4</strong>分别指代<strong>1、2、4、8字节</strong>，而所有表均以<code>_info</code>结尾</p>
<h1 id="魔数"><a href="#魔数" class="headerlink" title="魔数"></a>魔数</h1><p>class文件开头的4个字节<code>CA FE BA BE</code>被称为魔数，用以区分该文件是否为class文件</p>
<h1 id="版本号"><a href="#版本号" class="headerlink" title="版本号"></a>版本号</h1><p>第5、6个字节是次版本号，第7、8个字节是主版本号；</p>
<p>虚拟机无法执行超过其版本号的class文件。</p>
<h1 id="常量池"><a href="#常量池" class="headerlink" title="常量池"></a>常量池</h1><blockquote>
<p>常量池中主要存放字面量、符号引用；为第9到第30个字节</p>
</blockquote>
<img src="http://img.lbkzw.cn/img/20200830120618.png" alt="screenshot_2020_08_25T09_29_24+0800" style="zoom:50%;" />

<p>常量池入口有一项u2数据用来保存常量池的容量大小，即容量计数值；</p>
<p>容量计数值从1开始（计数范围1-21），不引用任何一个常量池项目时为0，而集合类型的容量计数从0开始；</p>
<p>虚拟机加载类时，首先从常量池获得对应的符号引用，并选择在类创建或运行时解析、翻译到具体内存地址中；</p>
<p>常量池中所有常量都是一个表；</p>
<p>tag（标志位）用于区分常量类型，name_index是常量池的索引值。</p>
<img src="http://img.lbkzw.cn/img/20200830122133.png" alt="screenshot_2020_08_26T14_57_26+0800" style="zoom:50%;" />

<img src="http://img.lbkzw.cn/img/20200830122149.png" alt="screenshot_2020_08_26T14_58_20+0800" style="zoom:50%;" />

<img src="http://img.lbkzw.cn/img/20200830122202.png" alt="screenshot_2020_08_26T14_58_24+0800" style="zoom:50%;" />

<h1 id="访问标志"><a href="#访问标志" class="headerlink" title="访问标志"></a>访问标志</h1><p>紧接着常量池后的两个字节便是<strong>访问标志</strong>，用来识别信息如：这是个接口、模块，这是个public访问修饰类型等；</p>
<p>两个为真的地址做<strong>并运算</strong>结果即为<strong>访问标识符</strong>（access_flags）的值。</p>
<img src="http://img.lbkzw.cn/img/20200830122241.png" alt="screenshot_2020_08_26T14_59_01+0800" style="zoom:50%;" />

<img src="http://img.lbkzw.cn/img/20200830122305.png" alt="screenshot_2020_08_28T13_14_28+0800" style="zoom:50%;" />

<h1 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h1><p>类索引、父类索引均为u2类型数据而接口索引为u2类型集合；</p>
<p>类索引、父类索引均指向一个类型为<strong>CONSTANT_Class_info</strong>的类型描述符常量，通过此常量中的索引值可以找到定义在<strong>CONSTANT_Utf-8_info</strong>类型中的全限定名字符串；</p>
<p>除java.lang.Object类外其他类的父类索引均不为0；</p>
<p>如图：<img src="http://img.lbkzw.cn/img/20200830122523.png" alt="screenshot_2020_08_28T15_30_58+0800" style="zoom:50%;" /></p>
<p>从0x000000F1开始的3个u2类型数据分别为0x0001、0x0003、0x0000，即类索引为1，父类索引为3，接口索引集合大小为0</p>
<h1 id="字段表集合"><a href="#字段表集合" class="headerlink" title="字段表集合"></a>字段表集合</h1><p>仅包含类的字段变量，从0x000000F8开始，而不包含方法内部的局部变量、继承来的字段。</p>
<p>如图：<img src="http://img.lbkzw.cn/img/20200830122328.png" alt="screenshot_2020_08_28T14_53_43+0800" style="zoom:50%;" /></p>
<p><strong>fields_count</strong>的值说明这个类仅有一个字段表数据；</p>
<p><strong>access_flags</strong>的值0x0002代表访问修饰符private为真；</p>
<p>字段名称即<strong>name_index</strong>值为0x0005在常量表中对应值为“m”；</p>
<p>字段描述符即<strong>descriptor_index</strong>值为0x0006指向常量池字符串“I”，至此我们可以推断出该字段为<code> private int m</code></p>
<h1 id="方法表集合"><a href="#方法表集合" class="headerlink" title="方法表集合"></a>方法表集合</h1><p>与字段表集合相似，方法表集合也依次采用了：访问标志<strong>access_flags</strong>、名称索引<strong>name_index</strong>、描述符索引<strong>descriptor_index</strong>、属性表集合<strong>attributes</strong>；</p>
<p>方法中的代码编译为字节码后存放在<strong>方法属性表集合</strong>的Code属性中</p>
<p>如图：</p>
<p>第一个u2类型数据表示集合中有两个方法；</p>
<p>第一个方法的访问标志值为0x0001，即public；</p>
<p>名称索引值为0x0007，对应常量池方法名为<int>；</p>
<p>描述索引值为0x0008，对应常量为（）v；</p>
<p>属性表计数器值为0x0001，表示此方法仅有1个属性，属性名为索引值0x0009对应的常量</p>
<img src="http://img.lbkzw.cn/img/20200830122620.png" alt="screenshot_2020_08_28T15_59_53+0800" style="zoom:50%;" />

<img src="http://img.lbkzw.cn/img/20200830122704.png" alt="screenshot_2020_08_28T16_00_05+0800" style="zoom:50%;" />

<h1 id="属性表集合"><a href="#属性表集合" class="headerlink" title="属性表集合"></a>属性表集合</h1><p>class文件、字段表、方法表都有自己的属性表集合；</p>
<p>虚拟机规范预定义属性：</p>
<p>对于每个属性，它的名称都要从常量池中引用一个<strong>CONSTANT_Utf-8_info</strong>类型常量来表示；</p>
<p>属性值的结构是完全自定义的，仅需通过一个u4说明属性值占有位数即可</p>
<h2 id="Code属性"><a href="#Code属性" class="headerlink" title="Code属性"></a>Code属性</h2><p>接口与抽象类中不存在Code属性，</p>
<p>如图：<img src="http://img.lbkzw.cn/img/20200830122905.png" alt="screenshot_2020_08_28T17_43_41+0800" style="zoom:50%;" /></p>
<p><strong>attribute_name_index</strong>代表该属性的名称，它指向了<strong>CONSTANT_Utf-8_info</strong>类型常量“Code”；</p>
<p><strong>attribute_length</strong>表示属性值长度，属性值长度为属性表长度减去6个字节（<strong>attribute_name_index</strong>与<strong>attribute_length</strong>共占6个字节）；</p>
<p><strong>max_stack</strong>表示操作栈的最大深度值，虚拟机需要根据这个值来确定栈帧中操作栈的深度；</p>
<p><strong>max_locals</strong>表示局部变量需要的存储空间，单位为变量槽即分配局部变量时的最小单位，32位数据类型用1个变量槽，64位数据类型用2个变量槽如double、long；</p>
<ol>
<li><strong>变量槽重用：</strong>当执行的代码超过一个变量的作用域时，此变量的变量槽可被其它局部变量<strong>重用</strong>；</li>
<li><strong>max_locals的大小：</strong>javac编译器将根据变量作用域大小分配变量槽给各个变量，根据同时存在的最大局部变量数量和类型计算出max_locals的大小</li>
</ol>
<p>code_length用于存储编译后所得字节码的长度，code用于存储编译后所得的字节码指令；</p>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/JVM虚拟机" style=color:#607d8b>
                JVM虚拟机
            </a>
        </span>
        
    </div>

    <a href="/2022/03/20/jvm-03/ " class="go-post">
        阅读全文
    </a>
</div>

<div class="post">

    <a href="/2022/03/20/mysql-00/">
        <h2>
            mysql for cmd
        </h2>
    </a>

    <div class="category-and-date">

        
        <span class="category">
            <a href="/categories/mysql">
                <span class="icon">
                    <a-icon type="book" theme="filled" /></span>
                mysql
            </a>
        </span>
        

        <span class="date">
            <span class="icon">
                <a-icon type="calendar" theme="filled" />
            </span>
            2022/3/20
        </span>

    </div>

    <div class="excerpt">
        <div class="content" v-pre>
            
            
            <p>初始化数据库：<code>mysqld --initialize --console</code></p>
<p>安装数据库：<code>mysqld install</code></p>
<p>启动mysql服务：<code>net start mysql</code></p>
<p>终止mysql服务：<code>net stop mysql</code></p>
<p>创建数据库到创建表：</p>
<p><img src="http://img.lbkzw.cn/img/20200917142838.png" alt="image-20200917142838617"></p>
<p>创建了一个名为db4的数据库，并选择数据库db4，在其中创建一个装有数据名为user的表。</p>
<h2 id="MySQL提示使用ALTERUSER语句修改密码"><a href="#MySQL提示使用ALTERUSER语句修改密码" class="headerlink" title="MySQL提示使用ALTERUSER语句修改密码"></a>MySQL提示使用ALTERUSER语句修改密码</h2><p>安装mysql 登陆后，添加数据库时提示：<code>ERROR 1820 (HY000): You must reset your password using ALTER USER statement before executing this statement.</code></p>
<p>解决方式如下：</p>
<p>MySQL版本5.7.6版本以前用户可以使用如下命令：</p>
<p> <code>SET PASSWORD = PASSWORD(&#39;新密码&#39;); </code></p>
<p>MySQL版本5.7.6版本开始的用户可以使用如下命令：</p>
<p><code> ALTER USER USER() IDENTIFIED BY &#39;新密码&#39;;</code></p>

            
        </div>
    </div>

    <div class="post-tags">
        
        <span class="icon">
            <a-icon type="tags" theme="filled" />
        </span>
        
        
        <span class="tag">
            
            <a href="/tags/JavaWeb" style=color:#016a99>
                JavaWeb
            </a>
        </span>
        
        <span class="tag">
            
            <a href="/tags/mysql" style=color:#006674>
                mysql
            </a>
        </span>
        
    </div>

    <a href="/2022/03/20/mysql-00/ " class="go-post">
        阅读全文
    </a>
</div>


             
<div class="page-current">

    <div class="prev">
        
    </div>

    <div class="page-index">

        

        <span class="current">
            1
        </span>

        
        <span>
            <a href="/page/2/">
                <span class="page-num">
                    2
                </span>
            </a>
            
            <a href="/page/3">
                <span class="page-num">
                    3
                </span>
            </a>
            

            
            <span class="page-omit">...</span>
            <a href="/page/6">
                <span class="page-num">
                    6
                </span>
            </a>
            

        </span>
        

    </div>

    <div class="next">
        
        <a href="/page/2/ ">
            <span class="page-num">
                <a-icon type="caret-right" theme="filled" />
            </span>
        </a>
        
    </div>

</div>

        </div>
    </div>
    
    <div id="home-card">
        <a-affix :offset-top="card_top">
    <a-card class="card-style" style="width: 300px">
        <div class="avatar">
            <img src="../images/icon.jpg " alt="头像">
        </div>
        <div class="name">
            ITthree
        </div>
        <div class="descriptions">
            
            <div class="description">
                待到山花烂漫时，她在丛中笑~
            </div>
            
        </div>
        <div class="icon-links">
            
            <span class="icon-link">
                <a target="_blank" rel="noopener" href="https://github.com/main2035">

                    
                    <a-icon type="github"
                        theme="filled" />
                    
                </a>
            </span>
            
        </div>
        <div class="friend-links">
            
            <div class="friend-link">
                <a target="_blank" rel="noopener" href="https://lbkzw.cn">
                    导航页面
                </a>
            </div>
            
        </div>
    </a-card>
</a-affix>
    </div>
    
</div>
                     
<footer id="footer">
    <div class="footer-wrap">
        <div>
            © 2020 - 2022 ITthreeの博客
            <span class="footer-icon">
                <a-icon type="flag" theme="filled" /></span>
            @ITthree
        </div>
        <div></div>
        <div>Based on the <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo Engine</a> & <a
                target="_blank" rel="noopener" href="https://github.com/korilin/hexo-theme-particle">Particle Theme</a></div>
        
    </div>

</footer>

<script src="/js/highlight.min.js"></script>
<script src="/js/particle.js"></script>
                </div>
            </div>
        </transition>
    </div>

    <script>
    new Vue({
        el: "#layout",
        data: {
            show_page: false,
            onload_menu: false,
            menu_show: false,
            card_top: 100
        },
        created: function () {
            var that = this
            window.onload = function () {
                that.show_page = true
                document.getElementById("loadcontent").style.opacity = 0
                setTimeout(function () {
                    document.getElementById("loadleft").style.width = 0
                    document.getElementById("loadright").style.width = 0
                }, 300)
                setTimeout(function () {
                    document.getElementById("loading").style = "display:none"
                }, 600)
            }
        },
        mounted: function () {
            var that = this
            window.addEventListener('scroll', function (e) {
                that.menu_show = false
            })
        },
        methods: {
            home_click: function () {
                window.scrollTo({
                    top: window.innerHeight - 80,
                    behavior: "smooth",
                });
            }
        }
    })
</script>

</body>

</html>