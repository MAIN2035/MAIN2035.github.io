# JVM虚拟机

## 内存管理

### 内存区域与溢出

####  运行时数据区域

<img src="https://i.loli.net/2020/07/30/eLwO5syKpnhjivJ.png" style="zoom:25%;" />



* 程序计数器：每个线程都有一个程序计数器，它指示当前线程所执行字节码的行号

* Java虚拟机栈：每个方法执行时均会创建一个栈帧，其存储局部变量表（基本类型与对象引用）、操作数栈、动态连接、方法出口等信息

* 本地方法栈：与Java虚拟机栈类似，其为本地方法服务

* Java堆（GC堆）：在虚拟机运行时创建用以存放对象实例，且为所有线程共享。

* 方法区：存储已被虚拟机加载的类型信息、常量、静态变量、编译后的代码缓存等数据，且为所有线程共享。

  1. 运行时常量池：属于方法区，在加载类后class文件中的常量池表（字面量、符号引用）将存入运行时常量池

  

* 直接内存（不属于运行时数据区域）：基于通道与缓冲区的I/O方式，其使用Native函数库直接分配堆外内存，并通过存储在Java堆中的DirectByteBuffer对象作为这块内存的引用进行操作

